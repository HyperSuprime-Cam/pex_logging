# -*- python -*-
Import("env")

env.Program(["testLogRecord.cc"], LIBS=env.libs["boost"] + ["utils"] + ["daf_base"])
env.Program(["testLogFormatter.cc"], LIBS=env.libs["boost"] + ["utils"] + ["daf_base"])
env.Program(["testLogDestination.cc"], LIBS=env.libs["boost"] + ["utils"] + ["daf_base"])
env.Program(["testLog.cc"], LIBS=env.libs["boost"] + ["utils"] + ["daf_base"] )

env.CheckSwig("python", ilang="c++")
env.Append(SWIGFLAGS=" -Ipython")

#
# Tests
#
import lsst.tests
import os

tests = lsst.tests.Control(env, verbose = True)
tests.run("*.cc")


for target in tests.run("*.py"):
    env.Depends(target,
               "../python/lsst/pex/logging/_logging%s" % (env['LDMODULESUFFIX']))
